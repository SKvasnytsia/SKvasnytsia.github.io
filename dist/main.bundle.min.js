webpackJsonp([1],{"./src async recursive":function(e,t,n){function o(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var r={"app/components/statistics/statistics.module":["./src/app/components/statistics/statistics.module.ts",0]};o.keys=function(){return Object.keys(r)},e.exports=o,o.id="./src async recursive"},"./src/app/app.component.html":function(e,t){e.exports='<header [title]="title"></header>\n<div class="content">\n    <router-outlet></router-outlet>\n</div>\n'},"./src/app/app.component.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"app-root{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;text-align:center;height:100%;min-height:100%}app-root>*{-webkit-box-flex:1;-ms-flex:1 100%;flex:1 100%}app-root .content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}",""]),e.exports=e.exports.toString()},"./src/app/app.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./src/app/services/index.ts");n.d(t,"a",function(){return a});var a=function(){function e(e){this.translationService=e,this.title=e.get("title")}return e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"app-root",template:n("./src/app/app.component.html"),styles:[n("./src/app/app.component.scss")]}),n.i(r.Injectable)(),o.c("design:paramtypes",["function"==typeof(t=void 0!==i.c&&i.c)&&t||Object])],e);var t}()},"./src/app/app.module.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./node_modules/@angular/router/@angular/router.es5.js"),s=n("./node_modules/@angular/forms/@angular/forms.es5.js"),c=n("./node_modules/@angular/http/@angular/http.es5.js"),u=n("./node_modules/@angular/common/@angular/common.es5.js"),d=n("./node_modules/@angular/platform-browser/@angular/platform-browser/animations.es5.js"),p=n("./src/app/shared-modules/index.ts"),l=n("./src/app/app.routes.ts"),m=n("./node_modules/fileReader/FileReader.js"),g=(n.n(m),n("./node_modules/hammerjs/hammer.js")),f=(n.n(g),n("./src/app/index.ts")),h=n("./src/app/firebase.config.ts"),b=n("./node_modules/angularfire2/index.js"),v=n("./node_modules/angularfire2/database.js"),y=n("./node_modules/angularfire2/auth.js"),x=n("./src/app/services/index.ts");n.d(t,"a",function(){return w});var w=function(){function e(){}return e=o.a([n.i(i.NgModule)({declarations:[f.a,f.b,f.c,f.d,f.e,f.f,f.g],imports:[r.a,s.a,c.a,b.a.initializeApp(h.a),v.a,y.a,a.a.forRoot(l.a,{preloadingStrategy:a.b}),d.a,p.a,p.b],providers:[{provide:u.LocationStrategy,useClass:u.HashLocationStrategy},x.a,x.b,x.c,x.d,x.e,x.f,x.g,{provide:x.h,useValue:FileReader}],bootstrap:[f.a]})],e)}()},"./src/app/app.routes.ts":function(e,t,n){"use strict";var o=n("./src/app/index.ts"),r=n("./src/app/services/routeActivators/index.ts");n.d(t,"a",function(){return i});var i=[{path:"login",component:o.f},{path:"categories",component:o.c,canActivate:[r.a]},{path:"add",component:o.d,canActivate:[r.a]},{path:"404",component:o.g},{path:"statistics",loadChildren:"app/components/statistics/statistics.module#StatisticsModule",canActivate:[r.a]},{path:"",redirectTo:"/categories",pathMatch:"full"}]},"./src/app/common/dateAdapter.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/material/@angular/material.es5.js");n.d(t,"a",function(){return i});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.b(t,e),t.prototype.format=function(e,t){if("input"==t){var n=e.getDate(),o=e.getMonth()+1,r=e.getFullYear();return this._to2digit(n)+"/"+this._to2digit(o)+"/"+r}return e.toDateString()},t.prototype._to2digit=function(e){return("00"+e).slice(-2)},t}(r.c)},"./src/app/common/dateCalculationHelper.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(){}return e.getStartAndEndDatesPerMonth=function(e){var t=e.getFullYear(),n=e.getMonth();return{from:new Date(t,n,1),to:new Date(t,n+1,0)}},e.separateToMonthlyRanges=function(e,t,n){var o=this;void 0===n&&(n=!0);var r=function(r,i,a){for(var c=[],d=r;d<=i;d++){var p=o.getStartAndEndDatesPerMonth(new Date(s,d)),l=p.from,m=p.to;n&&(d===r&&a===s&&(l=e),d===i&&a===u&&(m=t)),c.push({from:l,to:m})}return c},i=[],a=e.getMonth(),s=e.getFullYear(),c=t.getMonth(),u=t.getFullYear();if(a===c&&s===u)return[{from:e,to:t}];if(s===u&&a<c)return r(a,c,s);if(s<u){for(var d=s;d<=u;d++){var p=a,l=12;d>s&&(p=1),d===u&&(l=c),i=i.concat(r(p,l,d))}return i}},e.transformObjectToArray=function(e){var t=[];if(!e)return t;for(var n in e)t.push(e[n]);return t},e}()},"./src/app/common/dateFormats.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}}},"./src/app/common/index.ts":function(e,t,n){"use strict";var o=n("./src/app/common/dateAdapter.ts");n.d(t,"a",function(){return o.a});var r=n("./src/app/common/dateFormats.ts");n.d(t,"b",function(){return r.a});var i=n("./src/app/common/dateCalculationHelper.ts");n.d(t,"c",function(){return i.a})},"./src/app/common/models/buyingItem.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(e,t){this.price=e,this.date=t,this.price=e,this.date=t,this.date&&(this.dateString=new Date(this.date).toDateString())}return e}()},"./src/app/common/models/cacheItem.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(){function e(e,t,n,o,r,i,a){this.id=e,this.picture=t,this.price=n,this.date=o,this.userId=r,this.group=i,this.range=a}return e}()},"./src/app/common/models/categories.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=[{alias:"hp",value:"Home Payment"},{alias:"gr",value:"Grocery"},{alias:"eq",value:"Equipment"},{alias:"hb",value:"Hobby"},{alias:"pt",value:"Parties"}]},"./src/app/common/models/index.ts":function(e,t,n){"use strict";var o=n("./src/app/common/models/buyingItem.ts");n.d(t,"c",function(){return o.a});var r=n("./src/app/common/models/categories.ts");n.d(t,"a",function(){return r.a});var i=n("./src/app/common/models/cacheItem.ts");n.d(t,"b",function(){return i.a})},"./src/app/components/auth/login.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./node_modules/@angular/router/@angular/router.es5.js"),a=n("./node_modules/angularfire2/auth.js"),s=n("./src/app/services/index.ts");n.d(t,"a",function(){return c});var c=function(){function e(e,t,n,o){var r=this;this.router=e,this.auth=t,this.translationService=n,this.firebaseAuth=o,this.key="login",this.loginData={email:"",password:""},this.login=n.getAllForComponent(this.key),this.firebaseAuth.authState.subscribe(function(e){e&&r.router.navigateByUrl("/categories")})}return e.prototype.signInWithGoogle=function(){this.auth.signInWithGoogle()},e.prototype.signInWithFacebook=function(){this.auth.signInWithFacebook()},e.prototype.signOut=function(){this.auth.signOut()},e.prototype.signInWithEmailAndPassword=function(){this.auth.signInWithEmailAndPassword(this.loginData.email,this.loginData.password)},e.prototype.signInAnonymously=function(){this.auth.signInAnonymously()},e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"login",template:n("./src/app/components/auth/login.html"),styles:[n("./src/app/components/auth/login.scss")]}),o.c("design:paramtypes",["function"==typeof(t=void 0!==i.c&&i.c)&&t||Object,"function"==typeof(c=void 0!==s.a&&s.a)&&c||Object,"function"==typeof(u=void 0!==s.c&&s.c)&&u||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object])],e);var t,c,u,d}()},"./src/app/components/auth/login.html":function(e,t){e.exports='<div class="budget-info">\n    <h3 class="main-header">MY BUDGET </h3>\n    <img class="main-img" src="assets/icon-144px.png"/>\n</div>\n<div class="user-form">\n    <form  #loginForm="ngForm">\n        <div class="email-container">\n            <i class="material-icons">&#xE8A6;</i>\n            <md-input-container color="primary">\n                <input mdInput type="email" name="email" [(ngModel)]="loginData.email" placeholder="Enter your email" required>\n            </md-input-container>\n        </div>\n        <div class="pass-container">\n            <i class="material-icons">&#xE899;</i>\n            <md-input-container color="primary">\n                <input mdInput name="password" type="password" [(ngModel)]="loginData.password" placeholder="Enter your password" required>\n            </md-input-container>\n        </div>\n        <div>\n            <button md-raised-button color="primary" [disabled]="true" type="submit" (ngSubmit)="signInWithEmailAndPassword()">Sign in</button>\n            <button md-raised-button (click)="signInAnonymously()" type="button">Anonymous</button>\n        </div>\n    </form>\n</div>\n<section class="sign-in-mobile-section">\n    <div class="section-info"><em>{{login.signInInfo}}</em></div>\n    <button md-fab (click)="signInWithGoogle()">\n        <img class="google-icon" src="assets/google_logo.png" alt="G"/>\n    </button>\n    <button md-fab (click)="signInWithFacebook()">        \n        <img class="facebook-icon" src="assets/facebook_logo.png" alt="F"/> \n    </button>\n</section>\n\n<section class="sign-in-desktop-section">\n        <div class="section-info"><em>{{login.signInInfo}}</em></div>\n        <button md-raised-button (click)="signInWithGoogle()">\n            <img class="google-icon" src="assets/google_logo.png" alt="G"/>\n            Sign in with Google\n        </button>\n        <button md-raised-button (click)="signInWithFacebook()">        \n            <img class="facebook-icon" src="assets/facebook_logo.png" alt="F"/> \n            Sign in with Facebook\n        </button>\n    </section>'},"./src/app/components/auth/login.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"login{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:distribute;align-content:space-around;padding:15px}login .main-img{-o-object-fit:scale-down;object-fit:scale-down}login h3+sub{margin-bottom:15px}login .user-form{font-size:.5em}login .user-form .email-container,login .user-form .pass-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;display:-webkit-box;display:-ms-flexbox;display:flex}login .user-form .email-container .mat-input-container,login .user-form .pass-container .mat-input-container{width:100%}login .user-form i.material-icons{border-radius:50%;border:1px solid #3f5586;color:#3f5586;margin:5px;padding:5px;max-height:24px}login .sign-in-mobile-section{padding-top:5px;margin:10% 0;font-size:.7em;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}login .sign-in-mobile-section button.mat-fab.mat-accent{min-height:50px;margin:10px 5px;background-color:#f9f9f9}login .sign-in-mobile-section button.mat-fab.mat-accent .facebook-icon,login .sign-in-mobile-section button.mat-fab.mat-accent .google-icon{max-height:40px;vertical-align:middle}login .sign-in-mobile-section button.mat-fab.mat-accent em{margin-left:40px}login .sign-in-mobile-section .section-info{font-size:.8em;color:grey}login .sign-in-desktop-section{display:none}@media only screen and (min-width:768px){login{position:static;margin-left:auto;margin-right:auto}login .main-header,login .sign-in-mobile-section{display:none}login .sign-in-desktop-section{display:initial;font-size:.5em}login .sign-in-desktop-section button{min-height:50px}login .sign-in-desktop-section .section-info{padding:10px;color:grey}login .sign-in-desktop-section .facebook-icon,login .sign-in-desktop-section .google-icon{padding:10px 0;max-height:40px;vertical-align:middle}}",""]),e.exports=e.exports.toString()},"./src/app/components/categories/categories.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./node_modules/@angular/router/@angular/router.es5.js"),a=n("./src/app/services/index.ts"),s=n("./src/app/common/models/index.ts"),c=n("./src/app/common/index.ts");n.d(t,"a",function(){return u});var u=function(){function e(e,t,n,o,r){this.authService=e,this.cacheService=t,this.budgetService=n,this.translationService=o,this.router=r,this.list=s.a,this.key="categories",this.totalsPerCurrentMonth={};var i=o.getAllForComponent(this.key);this.title=i.title}return e.prototype.ngOnInit=function(){this.getAllSpendsPerCurrentMonth()},e.prototype.getStatistics=function(e){this.activeCategory=e,this.router.navigate(["/statistics/"+e])},e.prototype._getTotalsForCurrentMonth=function(e){var t=function(t){return e.reduce(function(e,n){return n.group===t?e+n.price:e},0)};this.totalsPerCurrentMonth=this.list.reduce(function(n,o){return n[o.value]=e?t(o.value):0,n},{})},e.prototype._getSpendsCaller=function(e,t){var n=this;this.budgetService.getAllSpends(e,t).subscribe(function(e){e.query.on("value",function(e){var t=e.val(),o=c.c.transformObjectToArray(t);n._getTotalsForCurrentMonth(o)})})},e.prototype.getAllSpendsPerCurrentMonth=function(){var e=this,t=c.c.getStartAndEndDatesPerMonth(new Date),n=t.from,o=t.to;this.cacheService.getCache(n,o).then(function(t){t.length?e._getTotalsForCurrentMonth(t):e._getSpendsCaller(n,o)})},e.prototype.add=function(e){this.router.navigate(["/add",{category:e}])},e.prototype.signOut=function(){this.authService.signOut(),this.router.navigate(["/login"])},e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"categories",template:n("./src/app/components/categories/categories.html"),styles:[n("./src/app/components/categories/categories.scss")]}),o.c("design:paramtypes",["function"==typeof(t=void 0!==a.a&&a.a)&&t||Object,"function"==typeof(u=void 0!==a.g&&a.g)&&u||Object,"function"==typeof(d=void 0!==a.b&&a.b)&&d||Object,"function"==typeof(p=void 0!==a.c&&a.c)&&p||Object,"function"==typeof(l=void 0!==i.c&&i.c)&&l||Object])],e);var t,u,d,p,l}()},"./src/app/components/categories/categories.html":function(e,t){e.exports='<section-header [title]="title">\n    <div move-back></div>\n    <div class="history" move-forward>\n        <a class="history-link" [routerLink]="[\'/statistics/history-all\']"><i class="material-icons">history</i></a>\n        <a (click)="signOut()"><i class="material-icons">&#xE879;</i></a>\n    </div>\n</section-header>\n\n<div class="category-content">\n    <ul>\n        <li class="category" [ngClass]="(category.alias + \' \' + (activeCategory === category.value ? \'highlighted\' : \'\'))" *ngFor="let category of list" (click)="getStatistics(category.value)">\n            <div class="category-name">{{category.value}}\n                <a class="add" (click)="add(category.value)"><i class="material-icons">add</i></a>\n            </div>\n            <div class="cost-info">Total: {{totalsPerCurrentMonth[category.value]}}</div>\n            \n        </li>\n    </ul>\n</div>\n<section class="add-spent-container">\n    <button md-raised-button type="button" color="primary" [routerLink]="[\'/add\']"><i>Add spent</i></button>\n</section>\n\n\n'},"./src/app/components/categories/categories.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"categories .history .history-link i{color:#f9f9f9;padding:0 10px}@media only screen and (min-width:768px){categories .history .history-link i{color:#000}}categories .category-content{padding:3em 1em 1.5em;line-height:100%;background-color:#fefeff;font-size:.7em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}categories .category-content ul{list-style-type:none;padding:0}categories .category-content .category{border-top:1px solid #f9f9f9;box-shadow:1px 0 3px #cdcccc;padding:10px 5px;clear:both;margin:10px 0}categories .category-content .category .category-name{width:100%;padding-bottom:10px}categories .category-content .category .add{display:none}categories .category-content .category .cost-info{font-size:.6em}categories .category-content .category.hp{border-left:3px solid #e1eceb}categories .category-content .category.hp.highlighted,categories .category-content .category.hp.hover{color:#e1eceb}categories .category-content .category.gr{border-left:3px solid #e9e5ec}categories .category-content .category.gr.highlighted,categories .category-content .category.gr.hover{color:#e9e5ec}categories .category-content .category.eq{border-left:3px solid #eacbcb}categories .category-content .category.eq.highlighted,categories .category-content .category.eq.hover{color:#eacbcb}categories .category-content .category.hb{border-left:3px solid #d2b7d4}categories .category-content .category.hb.highlighted,categories .category-content .category.hb.hover{color:#d2b7d4}categories .category-content .category.pt{border-left:3px solid #ede9cf}categories .category-content .category.pt.highlighted,categories .category-content .category.pt.hover{color:#ede9cf}@media only screen and (min-width:768px){categories .category-content{padding:0;margin:0 auto;position:static;width:75%}categories .category-content ul{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}categories .category-content ul .category{width:45%;border:1px solid #f9f9f9;padding:15px 5px}categories .category-content ul .category .add{display:initial;float:right}categories .category-content ul .category .add .material-icons{border-radius:50%;border:1px solid #3f5586;color:#3f5586;margin:5px;padding:5px;max-height:24px;margin:0}}categories .add-spent-container{background:#e1eceb;position:fixed;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;bottom:0;left:0}categories .add-spent-container,categories .add-spent-container button{width:100%;font-size:.8em}@media only screen and (min-width:768px){categories .add-spent-container{display:none}}",""]),e.exports=e.exports.toString()},"./src/app/components/diagram/diagram.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return i});var i=function(){function e(){}return e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"diagram",template:n("./src/app/components/diagram/diagram.html"),styles:[n("./src/app/components/diagram/diagram.scss")]}),o.c("design:paramtypes",[])],e)}()},"./src/app/components/diagram/diagram.html":function(e,t){e.exports='<section class="graphics-container">\n        Diagram container\n    </section>'},"./src/app/components/diagram/diagram.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"./src/app/components/errors/_404.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return i});var i=function(){function e(){}return e=o.a([n.i(r.Component)({template:'\n    <h1 class="errorMessage">404\'d</h1>\n  ',styles:["\n    .errorMessage { \n      margin-top:150px; \n      font-size: 170px;\n      text-align: center; \n    }"]}),o.c("design:paramtypes",[])],e)}()},"./src/app/components/header/header.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return i});var i=function(){function e(){}return o.a([n.i(r.Input)(),o.c("design:type",String)],e.prototype,"title",void 0),e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"header",template:n("./src/app/components/header/header.html"),styles:[n("./src/app/components/header/header.scss")]})],e)}()},"./src/app/components/header/header.html":function(e,t){e.exports="<h2>{{title}}</h2>\n"},"./src/app/components/header/header.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"header{display:none}@media only screen and (min-width:768px){header{background-color:#3f5586;color:#f9f9f9;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;margin:0}}",""]),e.exports=e.exports.toString()},"./src/app/components/index.ts":function(e,t,n){"use strict";var o=n("./src/app/components/header/header.component.ts");n.d(t,"a",function(){return o.a});var r=n("./src/app/components/categories/categories.component.ts");n.d(t,"b",function(){return r.a});var i=n("./src/app/components/scanner/scanner.component.ts");n.d(t,"c",function(){return i.a});var a=n("./src/app/components/diagram/diagram.component.ts");n.d(t,"d",function(){return a.a});var s=n("./src/app/components/auth/login.component.ts");n.d(t,"e",function(){return s.a});var c=n("./src/app/components/errors/_404.component.ts");n.d(t,"f",function(){return c.a})},"./src/app/components/scanner/scanner.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./node_modules/@angular/router/@angular/router.es5.js"),a=n("./src/app/common/models/index.ts"),s=n("./src/app/common/index.ts"),c=n("./src/app/services/index.ts");n.d(t,"a",function(){return u});var u=function(){function e(e,t,n,o,r,i){this.router=e,this.route=t,this.translateService=n,this.budgetService=o,this.cacheService=r,this.FileReader=i,this.key="addGoods",this.list=a.a,this.category={},this.title=n.get(this.key),this.item=new a.c("",(new Date).getTime())}return e.prototype.ngOnInit=function(){var e=this.route.snapshot.paramMap.get("category");e&&(this.category=a.a.find(function(t){return t.value.toLowerCase()===e.toLowerCase()})||{}),this.item.group=this.category.value},e.prototype.saveBuyingItem=function(){var e=this;this.budgetService.addItem(this.item).subscribe(function(t){var n=t.item,o=s.c.getStartAndEndDatesPerMonth(new Date),r=o.from,i=o.to;e.cacheService.addOrUpdateCache([n],r,i,n.group,t.id),e.router.navigate(["/statistics/"+n.group])})},e.prototype.onFileUpload=function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=this.FileReader,o=new n;o.onload=function(e){t.item.picture=e.target.result},o.readAsDataURL(e.target.files[0])}},e=o.a([n.i(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"scanner",template:n("./src/app/components/scanner/scanner.html"),styles:[n("./src/app/components/scanner/scanner.scss")]}),o.e(5,n.i(r.Inject)(c.h)),o.c("design:paramtypes",["function"==typeof(t=void 0!==i.c&&i.c)&&t||Object,"function"==typeof(u=void 0!==i.d&&i.d)&&u||Object,"function"==typeof(d=void 0!==c.c&&c.c)&&d||Object,"function"==typeof(p=void 0!==c.b&&c.b)&&p||Object,"function"==typeof(l=void 0!==c.g&&c.g)&&l||Object,Object])],e);var t,u,d,p,l}()},"./src/app/components/scanner/scanner.html":function(e,t){e.exports='<section-header [title]="title">\n    <div move-back>\n        <a [routerLink]="[\'/categories\']"><i class="material-icons">arrow_back</i></a>\n    </div>\n    <div move-forward></div>\n</section-header>\n<div class="content">\n    <form (ngSubmit)="saveBuyingItem()"  #goodsForm="ngForm" >\n        <div class="img-container">\n            <label>\n                <img *ngIf="!item.picture" src="assets/chek.png"/>\n                <img *ngIf="item.picture" [src]="item.picture"/>\n                <input \n                    id="picture" \n                    name="picture" \n                    hidden \n                    type="file"\n                    accept="image/*"\n                    (change)="onFileUpload($event)"/>\n            </label>\n        </div>\n        <md-input-container>\n            <input mdInput \n                name="price"\n                placeholder="Price" \n                required \n                type="number" \n                step="any" \n                min="0" \n                [(ngModel)]="item.price"\n                [value]="item.price"/>\n            \n        </md-input-container>\n        <md-input-container>\n            <input mdInput name="datePicker" [(ngModel)]="item.date" [mdDatepicker]="picker" required placeholder="Date" [value]="item.date">\n            <button mdSuffix [mdDatepickerToggle]="picker"></button>\n        </md-input-container>\n        <md-datepicker #picker ></md-datepicker>\n\n        <md-select name="group" placeholder="Category" [(ngModel)]="item.group" required>\n            <md-option *ngFor="let category of list" [value]="category.value">\n                {{ category.value }}\n            </md-option>\n        </md-select>\n\n        <button md-raised-button color="warn" class="btn-submit" [disabled]="!goodsForm.form.valid" type="submit">Save</button>\n    </form>\n</div>'},"./src/app/components/scanner/scanner.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"scanner .section-header .container [move-back] i.material-icons,scanner .section-header .container [move-forward] i.material-icons{color:#f9f9f9}@media only screen and (min-width:768px){scanner .section-header .container [move-back] i.material-icons,scanner .section-header .container [move-forward] i.material-icons{color:#000}}scanner .content{margin:15% 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#fefeff;position:relative}scanner .content md-input-container,scanner .content md-select{font-size:.5em;width:100%;text-align:left}scanner .content md-input-container .mat-select-placeholder.ng-trigger,scanner .content md-select .mat-select-placeholder.ng-trigger{font-size:.9em}scanner .content .btn-submit{position:fixed;bottom:0;left:0;width:100%}scanner .content .img-container{cursor:pointer;margin:15px;padding:15px;box-shadow:2px 2px 5px grey}scanner .content .img-container img{max-height:128px}@media only screen and (min-width:768px){scanner .content{margin:0}scanner .content form{margin:0 20%}scanner .content form .btn-submit{margin-top:15px;position:static}}",""]),e.exports=e.exports.toString()},"./src/app/firebase.config.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={apiKey:"AIzaSyDUmDOQ1FAQhwYnIzSwEPYlAHv6vB9eUAo",authDomain:"mybudget-4202c.firebaseapp.com",databaseURL:"https://mybudget-4202c.firebaseio.com",projectId:"mybudget-4202c",storageBucket:"mybudget-4202c.appspot.com",messagingSenderId:"584037351620"}},"./src/app/index.ts":function(e,t,n){"use strict";var o=n("./src/app/app.component.ts");n.d(t,"a",function(){return o.a});var r=n("./src/app/components/index.ts");n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return r.b}),n.d(t,"d",function(){return r.c}),n.d(t,"e",function(){return r.d}),n.d(t,"f",function(){return r.e}),n.d(t,"g",function(){return r.f})},"./src/app/services/auth.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./node_modules/angularfire2/auth.js"),a=n("./node_modules/firebase/app.js"),s=(n.n(a),n("./node_modules/rxjs/Observable.js"));n.n(s),n.d(t,"a",function(){return c});var c=function(){function e(e){var t=this;this.afAuth=e,this._uid=s.Observable.of(""),e.authState.subscribe(function(e){t.authenticated=!!e;var n=e?e.uid:null;t.uid=s.Observable.of(n)})}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},set:function(e){this._uid=e},enumerable:!0,configurable:!0}),e.prototype.isLoggedIn=function(){return this.authenticated},e.prototype.signInWithEmailAndPassword=function(e,t){return this.afAuth.auth.signInWithEmailAndPassword(e,t).then(function(e){e.credential.accessToken,e.uid}).catch(function(e){return console.error("AuthService#signInWithEmailAndPassword() :",e)})},e.prototype.signInAnonymously=function(){return this.afAuth.auth.signInAnonymously().catch(function(e){return console.error("AuthService#signInAnonymously() :",e)})},e.prototype.signIn=function(e){return this.afAuth.auth.signInWithPopup(e).then(function(e){e.credential.accessToken,e.uid}).catch(function(e){return console.error("AuthService#signIn() :",e)})},e.prototype.signInWithGoogle=function(){return this.signIn(new a.auth.GoogleAuthProvider)},e.prototype.signInWithFacebook=function(){return this.signIn(new a.auth.FacebookAuthProvider)},e.prototype.signOut=function(){this.afAuth.auth.signOut()},e=o.a([n.i(r.Injectable)(),o.c("design:paramtypes",["function"==typeof(t=void 0!==i.b&&i.b)&&t||Object])],e);var t}()},"./src/app/services/budget.service.ts":function(e,t,n){"use strict";function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./node_modules/angularfire2/database.js"),s=n("./src/app/services/auth.service.ts");n.d(t,"a",function(){return c});var c=function(){function e(e,t){this.af=e,this.authService=t,this.spends=[]}return e.prototype.getAllSpends=function(e,t){var n=this;return this.authService.uid.map(function(o){return{id:o,query:n.af.app.database().ref("/users/"+o+"/spends").orderByChild("date").startAt(e.getTime()).endAt(t.getTime())}})},e.prototype.addItem=function(e){var t=this,n=o();return e.id=n,this.authService.uid.map(function(n){return t.af.app.database().ref("/users/"+n+"/spends").push(e),{id:n,item:e}})},e.prototype.updateItem=function(e){var t=this;this.authService.uid.subscribe(function(n){t.af.app.database().ref("/users/"+n+"/spends").update(e).then(function(e){console.log("updateItem",e)})})},e.prototype.deleteItem=function(e){var t=this;this.authService.uid.map(function(n){t.af.app.database().ref("/users/"+n+"/spends").child(e).remove().then(function(e){console.log("deleteItem",e)})})},e=r.a([n.i(i.Injectable)(),r.c("design:paramtypes",["function"==typeof(t=void 0!==a.b&&a.b)&&t||Object,"function"==typeof(c=void 0!==s.a&&s.a)&&c||Object])],e);var t,c}()},"./src/app/services/db.service.ts":function(e,t,n){"use strict";function o(){return window}var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./src/app/common/models/index.ts");n.d(t,"a",function(){return s});var s=function(){function e(){this.dbName="budgetDb",this.dbVersion=1,this.dbInitializedPromise=this._initializeDBPromise()}return e.prototype._initializeDBPromise=function(){var e=this,t=o(),n=t.indexedDB;return new Promise(function(t,o){var r=n.open(e.dbName,e.dbVersion);r.onerror=function(t){e.errorHandler(t),o(t)},r.onsuccess=function(n){e.dbInitializationHandler(n),t(n)},r.onupgradeneeded=function(t){e._createObjectStore(t.target.result,"statistics",new a.b("","","",(new Date).getTime(),"","",""))}})},e.prototype.errorHandler=function(e){console.error("DB",e)},e.prototype.dbInitializationHandler=function(e){this.db=e.target.result},e.prototype._createObjectStore=function(e,t,n){var o=e.createObjectStore(t,{autoIncrement:!0});for(var r in n){var i="id"===r;o.createIndex(r,r,{unique:i})}return o},e.prototype.getObjectStore=function(e){var t=this;return this.dbInitializedPromise.then(function(n){return t.db.transaction(e,"readwrite").objectStore(e)})},e=r.a([n.i(i.Injectable)(),r.c("design:paramtypes",[])],e)}()},"./src/app/services/fileReader.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return r});var r=new o.OpaqueToken("FileReader")},"./src/app/services/index.ts":function(e,t,n){"use strict";var o=n("./src/app/services/budget.service.ts");n.d(t,"b",function(){return o.a});var r=n("./src/app/services/translation.service.ts");n.d(t,"c",function(){return r.a});var i=n("./src/app/services/routeActivators/index.ts");n.d(t,"d",function(){return i.a}),n.d(t,"e",function(){return i.b});var a=n("./src/app/services/auth.service.ts");n.d(t,"a",function(){return a.a});var s=n("./src/app/services/db.service.ts");n.d(t,"f",function(){return s.a});var c=n("./src/app/services/statisticsCache.service.ts");n.d(t,"g",function(){return c.a});var u=n("./src/app/services/fileReader.service.ts");n.d(t,"h",function(){return u.a})},"./src/app/services/routeActivators/authentificated-activator.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/router/@angular/router.es5.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./node_modules/angularfire2/auth.js"),s=n("./node_modules/rxjs/add/operator/do.js"),c=(n.n(s),n("./node_modules/rxjs/add/operator/map.js")),u=(n.n(c),n("./node_modules/rxjs/add/operator/take.js"));n.n(u),n.d(t,"a",function(){return d});var d=function(){function e(e,t){this.auth=e,this.router=t}return e.prototype.canActivate=function(){var e=this;return this.auth.authState.take(1).map(function(e){return!!e}).do(function(t){t||e.router.navigate(["/login"])})},e=o.a([n.i(i.Injectable)(),o.c("design:paramtypes",["function"==typeof(t=void 0!==a.b&&a.b)&&t||Object,"function"==typeof(s=void 0!==r.c&&r.c)&&s||Object])],e);var t,s}()},"./src/app/services/routeActivators/category-route-activator.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/router/@angular/router.es5.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),a=n("./src/app/common/models/index.ts");n.d(t,"a",function(){return s});var s=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e){return a.a.some(function(t){return t.value.toLowerCase()===e.params.category.toLowerCase()})},e=o.a([n.i(i.Injectable)(),o.c("design:paramtypes",["function"==typeof(t=void 0!==r.c&&r.c)&&t||Object])],e);var t}()},"./src/app/services/routeActivators/index.ts":function(e,t,n){"use strict";var o=n("./src/app/services/routeActivators/authentificated-activator.service.ts");n.d(t,"a",function(){return o.a});var r=n("./src/app/services/routeActivators/category-route-activator.service.ts");n.d(t,"b",function(){return r.a})},"./src/app/services/statisticsCache.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./src/app/services/index.ts"),a=n("./src/app/common/models/index.ts");n.d(t,"a",function(){return s});var s=function(){function e(e){this.dbService=e,this.tableName="statistics"}return e.prototype.addOrUpdateCacheForRanges=function(e,t,n,o){var r=this;for(var i in e)!function(t){e[t].items.forEach(function(e){r.addOrUpdateCache(e.array,e.from,e.to,t,o)})}(i)},e.prototype.addOrUpdateCache=function(e,t,n,o,r){var i=this,a=this._mapToCacheItem(e,t,n,o,r);this.dbService.getObjectStore(this.tableName).then(function(e){i.objStore=e,a.forEach(function(e){i.objStore.put(e)})})},e.prototype.getCache=function(e,t){var n=[],o=function(o){return new Promise(function(r,i){var a=o.index("range").openCursor(e.toLocaleDateString("en-US")+"-"+t.toLocaleDateString("en-US"));a.onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r(n)},a.onerror=i})};return this.dbService.getObjectStore(this.tableName).then(function(e){return o(e)})},e.prototype._mapToCacheItem=function(e,t,n,o,r){return e.map(function(e){return new a.b(e.id,e.picture,e.price,e.date,r,o,t.toLocaleDateString("en-US")+"-"+n.toLocaleDateString("en-Us"))})},e.prototype._mapFromCacheItem=function(e){return e.map(function(e){var t=new a.c(e.price,e.date);return t.id=e.id,t.group=e.group,t.picture=e.picture,t})},e=o.a([n.i(r.Injectable)(),o.c("design:paramtypes",["function"==typeof(t=void 0!==i.f&&i.f)&&t||Object])],e);var t}()},"./src/app/services/translation.service.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./src/app/translators/translate.en.ts");n.d(t,"a",function(){return a});var a=function(){function e(){}return e.prototype.get=function(e){return i.a[e]||e},e.prototype.getAllForComponent=function(e){return i.a[e]||{}},e=o.a([n.i(r.Injectable)()],e)}()},"./src/app/shared-modules/components/index.ts":function(e,t,n){"use strict";var o=n("./src/app/shared-modules/components/section-header/section-header.component.ts");n.d(t,"a",function(){return o.a})},"./src/app/shared-modules/components/section-header/section-header.component.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(t,"a",function(){return i});var i=function(){function e(){}return o.a([n.i(r.Input)(),o.c("design:type",String)],e.prototype,"title",void 0),e=o.a([n.i(r.Component)({selector:"section-header",template:n("./src/app/shared-modules/components/section-header/section-header.html"),styles:[n("./src/app/shared-modules/components/section-header/section-header.scss")]})],e)}()},"./src/app/shared-modules/components/section-header/section-header.html":function(e,t){e.exports='<div class="section-header">\n    <div class="container">\n        <ng-content select="[move-back]"></ng-content>\n        {{title}}\n        <ng-content select="[move-forward]"></ng-content>\n    </div>\n</div>\n'},"./src/app/shared-modules/components/section-header/section-header.scss":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".section-header{position:fixed;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;top:0;left:0;background-color:#3f5586}.section-header,.section-header div.container{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.section-header div.container{box-shadow:0 2px 1px grey;color:#f9f9f9;padding:10px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}@media only screen and (min-width:768px){.section-header{position:static;background-color:#adc84c;box-shadow:0 2px 1px grey}.section-header div.container{box-shadow:inherit;border-left:1px solid grey;border-right:1px solid grey;color:#000;width:75%}}",""]),e.exports=e.exports.toString()},"./src/app/shared-modules/index.ts":function(e,t,n){"use strict";var o=n("./src/app/shared-modules/material.module.ts");n.d(t,"a",function(){return o.a});var r=n("./src/app/shared-modules/shared.module.ts");n.d(t,"b",function(){return r.a})},"./src/app/shared-modules/material.module.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./node_modules/@angular/material/@angular/material.es5.js");n.d(t,"a",function(){return a});var a=function(){function e(){}return e=o.a([n.i(r.NgModule)({imports:[i.e,i.f,i.g,i.h,i.i,i.j,i.k],exports:[i.e,i.f,i.g,i.h,i.i,i.j,i.k]})],e)}()},"./src/app/shared-modules/shared.module.ts":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@angular/core/@angular/core.es5.js"),i=n("./src/app/shared-modules/components/index.ts");n.d(t,"a",function(){return a});var a=function(){function e(){}return e=o.a([n.i(r.NgModule)({declarations:[i.a],exports:[i.a]})],e)}()},"./src/app/translators/translate.en.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={title:"My budget",addGoods:"Add new item",login:{title:"Calculate your personal budget",signInInfo:"Or sign in with",googleSignIn:"Sign in with Google",facebookSignIn:"Sign in with Facebook"},categories:{title:"Categories"},statistics:{current:"Current Month",previous:"Previous Month",noDataFound:"No costs spent for current month...",addNew:"Add new spent item",total:"Total","spend-title":"Here is a list of spends:"}}},"./src/environments/environment.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={production:!1}},"./src/main.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),r=n("./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js"),i=n("./src/app/app.module.ts");n("./src/environments/environment.ts").a.production&&n.i(o.enableProdMode)(),n.i(r.a)().bootstrapModule(i.a)},0:function(e,t,n){e.exports=n("./src/main.ts")}},[0]);